# 문서 기반 RAG 영어 학습 프로그램 스펙 작성 및 프로젝트 규칙 설정

**날짜**: 2025-09-27  
**작업 유형**: 스펙 작성 및 프로젝트 설정  
**담당자**: AI Assistant (Kiro)

## 작업 개요

사용자의 관심사 문서를 기반으로 RAG 시스템을 구축하고, 대화형 영어 학습을 제공하는 CLI 프로그램의 스펙을 작성하고 프로젝트 개발 규칙을 설정했습니다.

## 주요 작업 내용

### 1. 요구사항 정의 및 개선

#### 초기 요구사항 작성
- 복잡한 학습 모듈들(단어 학습, 문장 분석, 질문 답변, 표현 검토)을 포함한 상세한 요구사항 작성
- 9개의 세부 요구사항으로 구성
- EARS 형식의 수용 기준 정의

#### 사용자 피드백 반영
1. **디렉토리 기반 문서 추가**: 개별 파일이 아닌 디렉토리 단위 문서 처리로 변경
2. **모국어 설정 기능**: 영어 학습자를 위한 모국어 지원 추가
3. **영어 표현 검토 기능**: 교사 역할을 하는 표현 개선 제안 기능 추가

#### 요구사항 단순화
사용자의 북극성 지침에 따라 핵심 4가지 기능으로 단순화:
1. **문서 디렉토리 지정**: RAG 기반 구축을 위한 관심사 문서 설정
2. **LLM 모델 연결**: OpenAI, Google Gemini, Ollama 지원
3. **모국어 지정**: 이해하기 쉬운 학습 지원
4. **관심사 기반 영어 학습 대화**: 문서 내용을 활용한 자연스러운 대화형 학습

### 2. 설계 문서 작성

#### 아키텍처 설계
- **High-Level Architecture**: 모듈화된 레이어 구조
- **Technology Stack**: Python, Click, ChromaDB, sentence-transformers
- **다중 LLM 지원**: OpenAI GPT, Google Gemini, Ollama 추상화

#### 핵심 컴포넌트 설계
- **DocumentManager**: 디렉토리 기반 문서 인덱싱
- **RAGEngine**: 벡터 검색 및 컨텍스트 제공
- **ConversationEngine**: 대화형 학습 엔진
- **LearningAssistant**: 실시간 영어 교정 및 피드백
- **ConfigurationManager**: 설정 관리

#### 사용자 피드백 반영
- **Google Gemini API 지원 추가**: 다양한 LLM 제공업체 선택권 제공
- **추상화 레이어 구현**: LanguageModel 추상 클래스로 확장성 확보

### 3. 구현 계획 수립

#### 초기 구현 계획 (12단계)
복잡한 학습 모듈들을 개별적으로 구현하는 상세한 계획

#### 단순화된 구현 계획 (11단계)
북극성 지침에 맞춰 대화형 학습에 집중한 계획:
1. 프로젝트 구조 및 기본 설정
2. 데이터 모델 및 설정 관리
3. 문서 처리 및 인덱싱
4. LLM 추상화 레이어 (3개 제공업체)
5. RAG 엔진
6. 대화형 학습 엔진
7. CLI 인터페이스
8. 오류 처리 및 로깅
9. 테스트 코드
10. 문서화
11. 성능 최적화

### 4. 프로젝트 규칙 설정

#### 초기 규칙 작성 문제
- 프로젝트 규칙 대신 README 수준의 상세한 개발 가이드라인 작성
- 사용자 지적으로 문제점 인식

#### 핵심 개발 규칙 정립
사용자 요청에 따라 3가지 핵심 규칙으로 단순화:
1. **Git Workflow**: 각 작업 단계 완료 시 반드시 commit
2. **Package Management**: 파이썬 패키지는 uv 사용
3. **Dependency Installation**: 필요한 패키지 설치는 개발자에게 요청

#### 문서 재구성
- **프로젝트 규칙**: 핵심 개발 규칙만 포함
- **README.md**: 상세한 프로젝트 정보 및 가이드라인 이동

## 기술적 결정사항

### 아키텍처 결정
- **모듈화된 구조**: 각 기능별 독립적인 모듈 설계
- **추상화 패턴**: LLM 제공업체 간 쉬운 전환을 위한 추상 클래스 사용
- **CLI 중심 설계**: 사용자 친화적인 명령어 인터페이스

### 기술 스택 선택
- **Vector Database**: ChromaDB (간편한 설정 및 사용)
- **Embeddings**: sentence-transformers (다국어 지원)
- **CLI Framework**: Click (직관적인 명령어 구조)
- **Package Management**: uv (빠른 의존성 관리)

### 학습 방식 결정
- **통합된 대화형 학습**: 개별 학습 모드 대신 자연스러운 대화 통합
- **관심사 기반 접근**: 사용자 문서 내용을 활용한 맞춤형 학습
- **실시간 피드백**: 대화 중 즉시 교정 및 개선 제안

## 프로젝트 구조

```
document-rag-english-study/
├── .kiro/
│   ├── specs/document-rag-english-study/
│   │   ├── requirements.md
│   │   ├── design.md
│   │   └── tasks.md
│   └── steering/
│       └── project-rules.md
├── src/
├── tests/
├── docs/
├── pyproject.toml
└── README.md
```

## 다음 단계

1. **구현 시작**: 첫 번째 작업(프로젝트 구조 설정)부터 순차적 진행
2. **uv 환경 설정**: 가상환경 생성 및 의존성 관리
3. **기본 프로젝트 구조 생성**: src/ 디렉토리 기반 모듈 구조 구축

## 학습된 교훈

1. **요구사항 단순화의 중요성**: 복잡한 기능보다 핵심 가치에 집중
2. **사용자 피드백의 가치**: 실제 사용자 관점에서의 개선 사항 도출
3. **프로젝트 규칙의 명확성**: 개발 가이드라인과 핵심 규칙의 구분 필요
4. **북극성 지침의 효과**: 명확한 목표 설정으로 일관된 설계 방향 유지

## 결론

사용자의 관심사 기반 영어 학습이라는 명확한 목표를 중심으로 단순하면서도 효과적인 시스템 설계를 완료했습니다. 복잡한 기능들을 자연스러운 대화형 학습으로 통합하여 사용자 경험을 개선하고, 실용적인 개발 규칙을 설정하여 일관된 개발 환경을 구축했습니다.